### 1.最大的麦穗

可参考https://www.zhihu.com/question/66465943

答案为：1/e = 36.7% 



### 2.抛硬币连续k次正面向上

可参考https://zhuanlan.zhihu.com/p/68358814

答案为：E(N_k) = 1/p + 1/(p^2) + 1/(p^3) +.... + 1/(p^k)，这里p=1/2



### 3.圆上任取三个点组成锐角三角形

可参考https://zhuanlan.zhihu.com/p/69530841。答案为1/4



### 4.生男生女比例

一个国家的人们都喜欢生男孩，如果生的是女孩，则会继续生直到生出男孩位置，如果生的是男孩，则停止。问这个国家的男女比例。

答：生男孩的平均期望是E(boy)=1，因为会一直生到男孩为止。现在考虑E(girl)。
考虑第一次生育，分为两种情况：如果是男孩，则男孩个数为1，女孩个数为0; 如果是女孩，则男孩个数为0，女孩个数为1。注意对于第二种情况，它的状态并未发生改变，即和还没有开始生育时没差别，该家庭生育女孩的期望依然是E(girl)。从而有E(girl)=1/2 * 0 + 1/2 * (E(girl) + 1), 即E(girl)=1。
因为任何家庭的地位都是等价的，且男女期望都是1，故比例是1:1。



### 5.抛硬币谁先抛到正面谁就赢

甲乙抛硬币比赛，甲先抛。谁先抛到正面谁赢。甲赢的概率是多少。
答：考虑第一轮，甲乙抛的结果有四种：正正，正反，反正，反反。甲赢的概率是2/4=1/2。如果是反正，比赛结束，比如是反反，比赛继续，此时状态回到最开始未比赛的状态。所以求期望，可以得到E(X)=1/2 + 1/4*E(X)，故E(X)=2/3，即甲赢的概率是2/3。此外，这种题还可以用等比数列求，然后取极限。



### 6.木棒截成三截组成三角形

答：设第一段截 x，第二段截 y，第三段 1 - x - y。首先有 0 < x < 1，0 < y < 1，0 < 1 - x - y < 1。画图可知，(x, y) 必须在单位正方形的左下角的半个直角三角形里，面积为 1 / 2。

其次，要组成三角形，要求两边之和大于第三边：x + y > 1 - x - y；x + 1 - x - y > y；y + 1 - x - y > x。从而0 < x < 1/2，0 < y < 1/2，1/2 < x + y < 1。画图可知，此时 (x, y) 必须在边长为 1/2 的三角形的右上角的半个直角三角形里，面积为 1/8。于是最终概率为 (1/8) / (1/2) = 1/4。



### 7.三角形上三只蚂蚁不相撞的概率

三角形的三个端点上有三只蚂蚁，蚂蚁可以绕任意边走，蚂蚁不相撞的概率是多少？

答：乍一看好像和三角形三边长度有关系，事实上是无关的。

首先，每个蚂蚁在方向的选择上有且只有 2 种可能，共有 3 只蚂蚁，所以共有 2 的 3 次方种可能，而不相撞有有 2 种可能，即全为顺时针方向或全为逆时针方向。故不相撞概率 = 不相撞 / 全部 = 2/8 = 1/4。



### 8. x+y+z+m=10，x,y,z,m均为正整数, 取值组合的种数

可参考：https://blog.csdn.net/gmh77/article/details/77200658与https://zhuanlan.zhihu.com/p/33841038

答：这种排列组合问题有隔板法、递推法、绑定法等。这里使用隔板法，为C(n-1,m-1)。

10个球分成4堆，每一堆都至少有一个，所以只有中间的9个间隔插入3个隔板。从而C(9,3)=84。



### 9.扑克牌里的大小王

一副扑克牌54张，现分成3等份每份18张，问大小王出现在同一份中的概率是多少？
答：54张牌分成3等份，共有M=C(54,18) * C(36,18) * C(18,18)种分法。

其中大小王在同一份的分法有N= C(3,1) * C(52,16) * C(36,18) * C(18,18)种。因此所求概率为P=N/M=17/53。



### 10.宝剑升级

有一把宝剑，每使用一个宝石，有50%的概率会成功让宝剑升一级，50%的概率会失败。如果宝剑的级数大于等于5的话，那么失败会使得宝剑降1级。如果宝剑的级数小于5的话，失败没有效果。问题是：期望用多少个宝石可以让一把1级的宝剑升到9级？

答：定义Xi表示i级升级到i+1级所需的宝石个数，则EXi表示i级升级所需的期望宝石数。设总宝石数为X，则EX=EX1+EX2+…+EX8。显然EX1=EX2=EX3=EX4=2
EX5=1/2 * 1 + 1/2 * (1 + EX4 + EX5),得到EX5=4；
EX6=1/2 * 1 + 1/2 * (1 + EX5 + EX6),得到EX6=6；
EX7=1/2 * 1 + 1/2 * (1 + EX6 + EX7),得到EX7=8；
EX8=1/2 * 1 + 1/2 * (1 + EX7 + EX8),得到EX8=10；
从而求和得到EX=36。



### 11.三门问题

可参考https://blog.csdn.net/qq_27782503/article/details/95952107与https://www.zhihu.com/topic/20046051/top-answers，答案是要换。



### 12.随机数生成

已知一随机发生器，产生 0 的概率是 p，产生 1 的概率是 1-p，现在要你构造一个发生器，使得它产生 0 和 1 的概率均为 1/2。

答：连续产生两个数，其组合以及概率如下：00 : p^2;  01 : p(1-p); 10 : (1-p) p; 11 : (1-p)^2。可以发现 01 和 10 组合的概率是相等的，只需要将其分别映射到 0 和 1 即可。即每次随机产生两个数，如果组合为00或11则丢弃，若为 01 则映射到 1，若为 10 则映射到 0，这样一来产生 0 和 1 的概率均为 1/2。

另一道相似的题目：已知一随机发生器，产生的数字的分布不清楚，现在要你构造一个发生器，使得它产生 0 和 1 的概率均为 1/2。

答：使用该随机发生器产生随机数 a，b，有以下 3 种情况：a < b；a == b；a > b。其中情况1和3是对称的，发生的概率相等，只需要将这两种情况分别映射到 0 和 1 即可，而遇到 a == b 时忽略。



### 13. 使用rand7()

已知有个 rand7() 的函数，随机返回1到7这七个自然数，怎样利用这个 rand7() 构造 rand10()，随机 1 ~ 10。

答：产生随机数的主要原则是**每个数出现的概率是相等的**，如果可以得到一组等概率出现的数字，那么就可以从中找到映射为 1 到 10 的方法。

rand7() 返回 1 ~ 7 的自然数，构造新的函数 (rand7() - 1) * 7 + rand7()，这个函数会随机产生 1 到 49 的自然数。

原因是 1 到 49 中的每个数只有唯一的第一个 rand7() 的值和第二个 rand7() 的值才能表示，于是它们出现的概率相等。但是这里的数字太多，可以丢弃 41 到 49 的数字，把 1 到 40 的数字分成 10 组，每组映射成 1 到 10 中的一个，于是可以得到随机的结果。

具体方法是，利用 (rand7() - 1) * 7 + rand7() 产生随机数 x，如果大于 40 则继续随机直到小于等于 40 为止，如果小于等于 40，则产生的随机数为 (x - 1) / 4 + 1。





###   待补充：https://zhuanlan.zhihu.com/p/42473598











